"use strict";var Essential_Audio=(()=>{var e,t,n,a,i,o,d=!0,r=!1,s=null,l={},z=[],u=r,c=r,f=0,v=r,p=r,m=50,w="div.essential_audio",h="div:nth-child(1)",g="mousemove",L="touchmove",y="mouseup",E="touchend",T=e=>e.duration,b=e=>e.currentTime,A=e=>e.buffered,x=e=>{n=e.changedTouches?S(e.changedTouches[0].pageX):S(e.pageX)},S=e=>Math.round(e);"loading"!=document.readyState?M():document.addEventListener("DOMContentLoaded",M);var q=r;try{var k=Object.defineProperty({},"passive",{get:()=>{q=d}});document.addEventListener("ig",s,k),document.removeEventListener("ig",s,k)}catch(e){}function M(){document.querySelectorAll(w).forEach(((e,t)=>{var n;e.innerHTML='<div><div class="off">\x3c!----\x3e</div></div><div><div>\x3c!----\x3e</div></div><div>\x3c!----\x3e</div>',e.hasAttribute("id")?n=e.getAttribute("id"):(n="EAP_"+(t+1),e.setAttribute("id",n)),l[n]=document.createElement("audio");var i=l[n];i.id=n,i.za=e.querySelector(h).querySelector("div"),i.zb=i.za.offsetWidth,i.zc=e.querySelector("div:nth-child(3)"),i.zd=e.querySelector(h).offsetWidth-i.zb,i.zd<0&&(i.zd=0),i.ze=e.getAttribute("data-url"),i.zf=0,i.zg=0,i.zh=r,i.zis=0,i.zj=r,i.zk=r,i.zl=r,i.zm=r,i.zn=r,i.zo=r,z[t]=n,i.crossOrigin="anonymous",i.preload="metadata",e.hasAttribute("data-loop")&&(i.loop=d),e.hasAttribute("data-scratch")?i.zp=d:i.zp=r,e.hasAttribute("data-passive")?i.zq=d:i.zq=r,e.hasAttribute("data-autoplay")&&f<1&&(f=1,i.autoplay=d,i.preload="auto",u=i,R(i)),e.hasAttribute("data-preload")&&(i.autoplay||(i.preload="auto",R(i))),i.za.onmousedown=e=>{v||(x(e),window.addEventListener(g,(e=>{x(e)})),P(i))},i.zq?i.za.addEventListener("touchstart",(e=>{e.stopPropagation(),clearTimeout(a),v=d,x(e),window.addEventListener(L,(e=>{x(e)})),P(i)}),q?{passive:d}:r):i.za.ontouchstart=e=>{e.preventDefault(),e.stopPropagation(),clearTimeout(a),v=d,x(e),window.addEventListener(L,(e=>{x(e)})),P(i)},i.zc.onmousedown=e=>{e.preventDefault(),e.stopPropagation(),v||(x(e),window.addEventListener(g,(e=>{x(e)})),I(i))},i.zq?i.zc.addEventListener("touchstart",(e=>{e.stopPropagation(),clearTimeout(a),v=d,x(e),window.addEventListener(L,(e=>{x(e)})),I(i)}),q?{passive:d}:r):i.zc.ontouchstart=e=>{e.preventDefault(),e.stopPropagation(),clearTimeout(a),v=d,x(e),window.addEventListener(L,(e=>{x(e)})),I(i)}}))}function P(o){function s(){e!=n&&(p=d,o.zd>0&&o.za.classList.add("drag")),p&&o.zd>0&&(i=n-(o.za.parentNode.getBoundingClientRect().left+window.scrollX)-t,o.zf=Math.min(Math.max(i,0),o.zd),o.za.style.left=o.zf+"px",o.zp&&o.zl&&(J(o),o.paused&&b(o)!=T(o)&&o.play()))}function l(){clearTimeout(o.te),v?(window.removeEventListener(L,s),window.removeEventListener(L,(e=>{x(e)})),window.removeEventListener(E,l)):(window.removeEventListener(g,s),window.removeEventListener(g,(e=>{x(e)})),window.removeEventListener(y,l)),p?(T(o)&&o.zd>0&&(o.zp&&o.zl||J(o),o.zl&&o.paused&&b(o)!=T(o)&&o.play()),p=r,o.za.classList.remove("drag")):(u.id&&u.id==o.id&&o.zl&&O(o),o.zj||C(o)),o.zn=r,v&&(a=setTimeout((function(){v=r,clearTimeout(a)}),150))}o.zn=d,t=(e=n)-(o.za.getBoundingClientRect().left+window.scrollX),v?o.te=setTimeout((function(){window.addEventListener(L,s),clearTimeout(o.te)}),100):window.addEventListener(g,s),v?window.addEventListener(E,l):window.addEventListener(y,l)}function I(s){if(s.zd>0){function l(){p=d,s.za.classList.add("drag"),i=n-s.za.parentNode.getBoundingClientRect().left-t,s.zf=Math.min(Math.max(i,0),s.zd),s.za.style.left=s.zf+"px",s.zp&&s.zl&&(J(s),s.paused&&b(s)!=T(s)&&s.play())}function z(){clearTimeout(s.te),v?(window.removeEventListener(L,l),window.removeEventListener(L,(e=>{x(e)})),window.removeEventListener(E,z)):(window.removeEventListener(g,l),window.removeEventListener(g,(e=>{x(e)})),window.removeEventListener(y,z)),p?(T(s)&&(s.zp&&!s.zl||J(s),s.zl&&s.paused&&b(s)!=T(s)&&s.play()),p=r,s.za.classList.remove("drag")):(o=n-s.za.parentNode.getBoundingClientRect().left-t,s.zf=Math.min(Math.max(o,0),s.zd),s.za.style.left=s.zf+"px",T(s)&&(J(s),s.zl&&s.play())),s.zn=r,v&&(a=setTimeout((function(){v=r,clearTimeout(a)}),150))}s.zn=d,e=n,t=Math.floor(s.zb/2),v?s.te=setTimeout((function(){window.addEventListener(L,l),clearTimeout(s.te)}),100):window.addEventListener(g,l),v?window.addEventListener(E,z):window.addEventListener(y,z)}}function C(e){if(u){if(e.id==u.id)return void H();H()}u=e,T(e)?X(e):e.zh||R(e)}function N(e,t){e.za.setAttribute("class",""),e.za.classList.add(t)}function R(e){N(e,"load"),e.zh=d,e.zk=d,e.onplay=()=>{e.zk||(clearTimeout(e.td),N(e,"play")),e.id==c.id&&(u=e,c=r,e.zl=d,e.zd>0&&(e.tc=setInterval(_,m,e)))},e.onplaying=()=>{clearTimeout(e.td),N(e,"play")},e.onwaiting=()=>{e.td=setTimeout((()=>{N(e,"load")}),50)},e.onpause=()=>{e.zk||e.zn||e.ended||N(e,"off"),!e.zl||e.zk||e.ended||H()},e.onended=()=>{0!=e.zd||e.loop||H(0)},e.onseeking=()=>{e.id==c.id&&O(e)},e.onseeked=()=>{e.id==c.id&&O(e)},e.onloadedmetadata=()=>{e.onloadedmetadata=s,function(e){if("auto"==e.preload){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(e.preload="metadata");var t=e.play();void 0!==t&&t.then((()=>{e.autoplay?W(e):B(e)})).catch((t=>{B(e)}))}else e.readyState>2?W(e):(J(e),e.zf==e.zd&&F(e),e.tb=setInterval(D,250,e))}(e)},e.onprogress=()=>{e.onprogress=s,e.ta=setInterval(G,500,e),e.zo=d};for(var t=e.ze.split(","),n=d,a=0;a<t.length;a++)t[a]=t[a].trim(),""!=t[a]&&(j(e,t[a],a+1),n=r);n&&function(e){e.zh=r,e.zm=r,e.zl=r,e.zj=d,N(e,"error"),e.id==u.id&&(u=r)}(e)}function j(e,t,n){var a=e.id+"_"+n;e.innerHTML+='<source id="'+a+'" src="'+t+'" crossorigin="anonymous">'}function B(e){e.pause(),N(e,"off"),e.currentTime=0,e.zf=0,e.zk=r,e.autoplay&&u&&e.id==u.id&&(c=u,u=r)}function D(e){J(e);for(var t=0,n=0;n<A(e).length;n++)if(A(e).start(A(e).length-1-n)<=b(e)){t=A(e).end(A(e).length-1-n);break}t>=b(e)&&(clearInterval(e.tb),W(e))}function W(e){e.zh=r,e.zk=r,e.zl?H(e):e.zm||X(e)}function X(e){b(e)==T(e)&&F(e),J(e),c=r,e.zl=d,e.zd>0&&(e.tc=setInterval(_,m,e)),e.play();var t=setTimeout((function(){e.zl&&e.paused&&H(),clearTimeout(t)}),25);N(e,"play")}function _(e){e.zn||(O(e),b(e)==T(e)&&(e.loop?F(e):H(0)))}function O(e){e.zf=S(b(e)*e.zd/T(e)),e.za.style.left=e.zf+"px"}function H(e){u&&(clearInterval(u.tc),u.zm=d,u.zl=r,u.pause(),N(u,"off"),0==e?F(u):u.zf=u.za.offsetLeft,u.zk||(c=u),u=r)}function F(e){T(e)&&(e.currentTime=0),e.zf=0,e.za.style.left="0px"}function G(e){if(T(e)){var t;t=0==e.zd?0:S(e.zf/e.zd*T(e)*100)/100;for(var n=0,a=0;a<A(e).length;a++)if(A(e).start(A(e).length-1-a)<=t){n=A(e).end(A(e).length-1-a);break}e.zg=S(n/T(e)*100),e.za.parentNode.parentNode.querySelector("div:nth-child(2)").querySelector("div").style.width=e.zg+"%",100==e.zg&&(clearInterval(e.ta),e.zo=r)}}function J(e){e.zd>0&&(e.currentTime=e.zf/e.zd*T(e))}return window.addEventListener("resize",(function(){document.querySelectorAll(w).forEach((e=>{var t=e.getAttribute("id"),n=l[t];n.zo&&clearInterval(n.ta),n.zb=n.za.offsetWidth;var a=e.querySelector(h).offsetWidth-n.zb;a<0&&(a=0),n.za.offsetLeft>0&&t!=u.id&&(n.zf=S(n.za.offsetLeft/n.zd*a),n.za.style.left=n.zf+"px"),n.zd=a,T(n)&&!n.zl&&J(n),n.zo&&(n.ta=setInterval(G,500,n))}))})),{init:function(){c=r,u=r,l={},M()},Audio:l,Play:function(e){e||(e=c?c.id:z[0]);var t=l[e];t.zl||C(t)},Stop:H,Reset:function(e){e||(e=c?c.id:z[0]),F(l[e])},players:function(){return z},active:function(){return u?u.id:r},last:function(){return c?c.id:r}}})();